<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Hyve - Workspaces for AI Agents</title>
  <link rel="icon" type="image/png" href="https://raw.githubusercontent.com/eladkishon/hyve/main/assets/logo.png">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }

    body {
      font-family: 'Inter', -apple-system, sans-serif;
      background: #000;
      color: #fff;
      min-height: 100vh;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 24px;
    }

    /* Header - minimal */
    header {
      padding: 20px 0;
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      z-index: 100;
    }

    header .container {
      display: flex;
      justify-content: flex-end;
      align-items: center;
    }

    nav {
      display: flex;
      gap: 8px;
    }

    .btn {
      padding: 8px 16px;
      border-radius: 8px;
      font-weight: 500;
      text-decoration: none;
      font-size: 14px;
      transition: all 0.15s;
    }

    .btn-ghost { color: #666; }
    .btn-ghost:hover { color: #fff; }
    .btn-primary { background: #dc2626; color: #fff; }
    .btn-primary:hover { background: #ef4444; }

    /* Hero */
    .hero {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      position: relative;
    }

    .hero-content {
      padding: 120px 0 40px;
      text-align: center;
      position: relative;
      z-index: 10;
    }

    .hero-logo {
      width: 120px;
      height: 120px;
      margin-bottom: 32px;
      filter: drop-shadow(0 0 60px rgba(220, 38, 38, 0.5));
    }

    h1 {
      font-size: clamp(36px, 6vw, 56px);
      font-weight: 800;
      letter-spacing: -2px;
      margin-bottom: 16px;
    }

    h1 span { color: #dc2626; }

    .hero-desc {
      font-size: 18px;
      color: #666;
      max-width: 480px;
      margin: 0 auto 32px;
    }

    .install-box {
      display: inline-flex;
      align-items: center;
      gap: 12px;
      background: #111;
      border: 1px solid #222;
      padding: 14px 24px;
      border-radius: 10px;
      font-family: 'JetBrains Mono', monospace;
      font-size: 14px;
      cursor: pointer;
      transition: all 0.15s;
    }

    .install-box:hover {
      border-color: #dc2626;
    }

    .install-box .icon {
      color: #666;
    }

    /* Diagram canvas area */
    .diagram-area {
      flex: 1;
      position: relative;
      min-height: 450px;
    }

    canvas {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
    }

    /* Features below */
    .features {
      padding: 80px 0;
      background: #050505;
      border-top: 1px solid #151515;
    }

    .features-title {
      text-align: center;
      font-size: 13px;
      color: #444;
      text-transform: uppercase;
      letter-spacing: 3px;
      margin-bottom: 48px;
    }

    .features-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 20px;
    }

    .feature {
      padding: 24px;
      background: #0a0a0a;
      border: 1px solid #151515;
      border-radius: 12px;
      text-align: center;
    }

    .feature-icon {
      font-size: 28px;
      margin-bottom: 16px;
    }

    .feature h3 {
      font-size: 15px;
      font-weight: 600;
      margin-bottom: 8px;
    }

    .feature p {
      font-size: 13px;
      color: #555;
      line-height: 1.5;
    }

    /* Footer */
    footer {
      padding: 32px 0;
      border-top: 1px solid #151515;
      text-align: center;
    }

    footer a {
      color: #444;
      text-decoration: none;
      font-size: 13px;
      margin: 0 16px;
    }

    footer a:hover { color: #fff; }

    @media (max-width: 768px) {
      .features-grid { grid-template-columns: 1fr 1fr; }
      .hero-logo { width: 80px; height: 80px; }
    }
  </style>
</head>
<body>
  <header>
    <div class="container">
      <nav>
        <a href="docs.html" class="btn btn-ghost">Docs</a>
        <a href="https://github.com/eladkishon" class="btn btn-ghost">@eladkishon</a>
        <a href="https://github.com/eladkishon/hyve" class="btn btn-primary">GitHub</a>
      </nav>
    </div>
  </header>

  <section class="hero">
    <div class="hero-content">
      <div class="container">
        <img src="https://raw.githubusercontent.com/eladkishon/hyve/main/assets/logo.png" alt="Hyve" class="hero-logo">
        <h1>Workspaces for <span>AI Agents</span></h1>
        <p class="hero-desc">Run multiple AI agents in parallel. Each gets isolated git branches, databases, and ports.</p>
        <div class="install-box" onclick="copyInstall()">
          <span>npm install -g hyve-cli</span>
          <span class="icon">üìã</span>
        </div>
      </div>
    </div>
    <div class="diagram-area">
      <canvas id="canvas"></canvas>
    </div>
  </section>

  <section class="features">
    <div class="container">
      <div class="features-title">What Hyve Does</div>
      <div class="features-grid">
        <div class="feature">
          <div class="feature-icon">üåø</div>
          <h3>Git Worktrees</h3>
          <p>Each workspace is a separate git worktree on its own feature branch</p>
        </div>
        <div class="feature">
          <div class="feature-icon">üóÑÔ∏è</div>
          <h3>Database Cloning</h3>
          <p>Instant PostgreSQL snapshots via Docker on unique ports</p>
        </div>
        <div class="feature">
          <div class="feature-icon">üîå</div>
          <h3>Port Isolation</h3>
          <p>Automatic port allocation so services never conflict</p>
        </div>
        <div class="feature">
          <div class="feature-icon">ü§ñ</div>
          <h3>Agent Agnostic</h3>
          <p>Works with Claude, Cursor, Aider, or any AI coding tool</p>
        </div>
      </div>
    </div>
  </section>

  <footer>
    <div class="container">
      <a href="https://github.com/eladkishon">@eladkishon</a>
      <a href="https://github.com/eladkishon/hyve">GitHub</a>
      <a href="docs.html">Docs</a>
    </div>
  </footer>

  <script>
    const canvas = document.getElementById('canvas');
    const ctx = canvas.getContext('2d');

    let W, H;
    let time = 0;

    const COLORS = {
      main: '#dc2626',
      claude: '#dc2626',
      cursor: '#0ea5e9',
      aider: '#8b5cf6',
      db: '#22c55e'
    };

    // Workspace data
    const workspaces = [
      { name: 'auth-feature', agent: 'Claude', color: COLORS.claude, port: 4000, dbPort: 5500 },
      { name: 'billing-api', agent: 'Cursor', color: COLORS.cursor, port: 5000, dbPort: 5501 },
      { name: 'ui-refactor', agent: 'Aider', color: COLORS.aider, port: 6000, dbPort: 5502 }
    ];

    let wsNodes = [];
    let mainNode = { x: 0, y: 0 };
    let particles = [];

    function resize() {
      const rect = canvas.parentElement.getBoundingClientRect();
      W = canvas.width = rect.width;
      H = canvas.height = rect.height;

      // Position main branch node
      mainNode = { x: W / 2, y: H - 60 };

      // Position workspace nodes
      const spacing = Math.min(280, (W - 100) / 3);
      wsNodes = workspaces.map((ws, i) => ({
        ...ws,
        x: W / 2 + (i - 1) * spacing,
        y: H / 2 - 30,
        pulse: 0,
        activity: 0
      }));
    }

    function drawMainBranch() {
      const gradient = ctx.createLinearGradient(0, mainNode.y, W, mainNode.y);
      gradient.addColorStop(0, 'transparent');
      gradient.addColorStop(0.3, COLORS.main + '40');
      gradient.addColorStop(0.5, COLORS.main);
      gradient.addColorStop(0.7, COLORS.main + '40');
      gradient.addColorStop(1, 'transparent');

      ctx.strokeStyle = gradient;
      ctx.lineWidth = 3;
      ctx.beginPath();
      ctx.moveTo(0, mainNode.y);
      ctx.lineTo(W, mainNode.y);
      ctx.stroke();

      // Main label
      ctx.fillStyle = COLORS.main;
      ctx.beginPath();
      ctx.arc(mainNode.x, mainNode.y, 10, 0, Math.PI * 2);
      ctx.fill();

      ctx.fillStyle = '#fff';
      ctx.font = '600 12px Inter';
      ctx.textAlign = 'center';
      ctx.fillText('main', mainNode.x, mainNode.y + 28);
    }

    function drawConnection(from, to, color) {
      ctx.strokeStyle = color + '30';
      ctx.lineWidth = 2;
      ctx.setLineDash([4, 4]);
      ctx.beginPath();
      ctx.moveTo(from.x, from.y);
      ctx.lineTo(to.x, to.y);
      ctx.stroke();
      ctx.setLineDash([]);
    }

    function drawWorkspace(ws) {
      const boxW = 100;
      const boxH = 72;

      // Glow
      const glowSize = 20 + ws.activity * 30;
      const gradient = ctx.createRadialGradient(ws.x, ws.y, 0, ws.x, ws.y, boxW + glowSize);
      gradient.addColorStop(0, ws.color + '20');
      gradient.addColorStop(1, 'transparent');
      ctx.fillStyle = gradient;
      ctx.fillRect(ws.x - boxW - glowSize, ws.y - boxH/2 - glowSize, (boxW + glowSize) * 2, boxH + glowSize * 2);

      // Box
      ctx.fillStyle = '#0a0a0a';
      ctx.strokeStyle = ws.color + '80';
      ctx.lineWidth = 2;
      roundRect(ctx, ws.x - boxW, ws.y - boxH/2, boxW * 2, boxH, 10);
      ctx.fill();
      ctx.stroke();

      // Header
      ctx.fillStyle = '#111';
      roundRect(ctx, ws.x - boxW + 2, ws.y - boxH/2 + 2, boxW * 2 - 4, 22, [8, 8, 0, 0]);
      ctx.fill();

      // Dot
      ctx.fillStyle = ws.color;
      ctx.beginPath();
      const pulse = Math.sin(time * 0.05 + wsNodes.indexOf(ws)) * 0.3 + 0.7;
      ctx.globalAlpha = pulse;
      ctx.arc(ws.x - boxW + 14, ws.y - boxH/2 + 13, 4, 0, Math.PI * 2);
      ctx.fill();
      ctx.globalAlpha = 1;

      // Name
      ctx.fillStyle = '#fff';
      ctx.font = '600 11px Inter';
      ctx.textAlign = 'left';
      ctx.fillText(ws.name, ws.x - boxW + 26, ws.y - boxH/2 + 16);

      // Agent badge
      ctx.fillStyle = ws.color + '30';
      const badgeW = ctx.measureText(ws.agent).width + 12;
      roundRect(ctx, ws.x + boxW - badgeW - 8, ws.y - boxH/2 + 6, badgeW, 16, 4);
      ctx.fill();
      ctx.fillStyle = ws.color;
      ctx.font = '500 9px Inter';
      ctx.textAlign = 'center';
      ctx.fillText(ws.agent, ws.x + boxW - badgeW/2 - 8, ws.y - boxH/2 + 17);

      // Details
      ctx.font = '500 10px JetBrains Mono';
      ctx.textAlign = 'left';

      ctx.fillStyle = '#555';
      ctx.fillText('branch', ws.x - boxW + 12, ws.y + 4);
      ctx.fillStyle = '#f59e0b';
      ctx.fillText('feature/' + ws.name.split('-')[0], ws.x + 20, ws.y + 4);

      ctx.fillStyle = '#555';
      ctx.fillText('server', ws.x - boxW + 12, ws.y + 20);
      ctx.fillStyle = '#22c55e';
      ctx.fillText(':' + ws.port, ws.x + 20, ws.y + 20);

      ctx.fillStyle = '#555';
      ctx.fillText('db', ws.x - boxW + 12, ws.y + 36);
      ctx.fillStyle = '#22c55e';
      ctx.fillText(':' + ws.dbPort, ws.x + 20, ws.y + 36);
    }

    function roundRect(ctx, x, y, w, h, r) {
      if (typeof r === 'number') r = [r, r, r, r];
      ctx.beginPath();
      ctx.moveTo(x + r[0], y);
      ctx.lineTo(x + w - r[1], y);
      ctx.quadraticCurveTo(x + w, y, x + w, y + r[1]);
      ctx.lineTo(x + w, y + h - r[2]);
      ctx.quadraticCurveTo(x + w, y + h, x + w - r[2], y + h);
      ctx.lineTo(x + r[3], y + h);
      ctx.quadraticCurveTo(x, y + h, x, y + h - r[3]);
      ctx.lineTo(x, y + r[0]);
      ctx.quadraticCurveTo(x, y, x + r[0], y);
      ctx.closePath();
    }

    // Particles
    class Particle {
      constructor(target) {
        this.target = target;
        this.x = mainNode.x;
        this.y = mainNode.y;
        this.progress = 0;
        this.speed = 0.015 + Math.random() * 0.01;
      }

      update() {
        this.progress += this.speed;
        this.x = mainNode.x + (this.target.x - mainNode.x) * this.progress;
        this.y = mainNode.y + (this.target.y - mainNode.y) * this.progress;

        if (this.progress >= 1) {
          this.target.activity = 1;
          return true;
        }
        return false;
      }

      draw() {
        ctx.fillStyle = this.target.color;
        ctx.beginPath();
        ctx.arc(this.x, this.y, 4, 0, Math.PI * 2);
        ctx.fill();

        // Trail
        const gradient = ctx.createRadialGradient(this.x, this.y, 0, this.x, this.y, 20);
        gradient.addColorStop(0, this.target.color + '60');
        gradient.addColorStop(1, 'transparent');
        ctx.fillStyle = gradient;
        ctx.beginPath();
        ctx.arc(this.x, this.y, 20, 0, Math.PI * 2);
        ctx.fill();
      }
    }

    function spawnParticle() {
      const target = wsNodes[Math.floor(Math.random() * wsNodes.length)];
      particles.push(new Particle(target));
    }

    function animate() {
      time++;
      ctx.fillStyle = '#000';
      ctx.fillRect(0, 0, W, H);

      // Draw subtle grid
      ctx.strokeStyle = '#0a0a0a';
      ctx.lineWidth = 1;
      for (let x = 0; x < W; x += 60) {
        ctx.beginPath();
        ctx.moveTo(x, 0);
        ctx.lineTo(x, H);
        ctx.stroke();
      }
      for (let y = 0; y < H; y += 60) {
        ctx.beginPath();
        ctx.moveTo(0, y);
        ctx.lineTo(W, y);
        ctx.stroke();
      }

      drawMainBranch();

      // Connections and workspaces
      wsNodes.forEach(ws => {
        drawConnection(mainNode, ws, ws.color);
        ws.activity *= 0.95;
      });

      wsNodes.forEach(ws => drawWorkspace(ws));

      // Particles
      for (let i = particles.length - 1; i >= 0; i--) {
        particles[i].draw();
        if (particles[i].update()) {
          particles.splice(i, 1);
        }
      }

      requestAnimationFrame(animate);
    }

    // Spawn particles periodically
    setInterval(spawnParticle, 1500);

    function copyInstall() {
      navigator.clipboard.writeText('npm install -g hyve-cli');
      const box = document.querySelector('.install-box span:first-child');
      const orig = box.textContent;
      box.textContent = 'Copied!';
      setTimeout(() => box.textContent = orig, 1500);
    }

    window.addEventListener('resize', resize);
    resize();
    animate();
    setTimeout(spawnParticle, 500);
  </script>
</body>
</html>
